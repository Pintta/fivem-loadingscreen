<html>
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" media="screen" href="style/style.css">
        <link rel="stylesheet" media="screen" href="style/palkit.css">
    </head>
    <body class="bg">
        <div class="scroll-box">
            <div class="person">
                <a href="https://discord.gg/DxsxyXht34" target="_blank" rel="noopener noreferrer" onclick="window.invokeNative('openUrl', 'https://discord.gg/DxsxyXht34');">
                    <img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0a6a49cf127bf92de1e2_icon_clyde_blurple_RGB.png">
                </a>
                <span class="menu-text">Discord<br></span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/1001974941996023891/09f048bd6f85fdfe132276c369538340?size=1024">
                <span class="menu-text">matsu.gg<br>
                    <div class="owner-role"> Omistaja </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/1081379214269362186/a_99ac50dafb22e36b25e3bc77d35707b4?size=1024">
                <span class="menu-text">copperplatinum<br>
                    <div class="developer-role"> Kehittäjä </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/723079758572814368/f69882dbf52b554bec43b8347700371c?size=1024">
                <span class="menu-text">arskaa44<br>
                    <div class="admin-role"> Kehittäjä </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/1008402312106082425/000b2d13aa0480de2b7c6816c3527bf2?size=1024">
                <span class="menu-text">glooria<br>
                    <div class="admin-role"> Discord </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/533365382468206593/569b6f2a3c029dfa1ec72c96d0831a7d?size=1024">
                <span class="menu-text">franklinaitooikee<br>
                    <div class="admin-role"> Ylläpito </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/767347433818030081/8321659e56c862b649352c779970ebdd?size=1024">
                <span class="menu-text">pyyhekumi<br>
                    <div class="admin-role"> Ylläpito </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/561961303212556344/786efe238069a76f7bda659b9712b358?size=1024">
                <span class="menu-text">sakke06<br>
                    <div class="admin-role"> Ylläpito </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/767760390389628988/42caaaf452c04894266d673aa4bad69e?size=1024">
                <span class="menu-text">eetu6534<br>
                    <div class="admin-role"> Ylläpito </div>
                </span>
            </div>
            <div class="person">
                <img src="https://cdn.discordapp.com/avatars/290730425670959105/a_561d684a70fc55878605181965aa14fe?size=1024">
                <span class="menu-text">president.unban<br>
                    <div class="admin-role"> Ylläpito </div>
                </span>
            </div>
        </div>
        <div class="textbox">
            <div class="textboxh">
                <div class="heading-textbox">Päivitetty 07.05.2024</div>
            </div>
            <p>
                - Korjattu bugeja
            </p>
        </div>
        <div class="container">
            <img src="logo.png">
        </div>
        <div id="audio">
            <audio id="loading" src="song/song2.mp3" autoplay="true" hidden="true" loop="true"></audio>
        </div>
        <div class="loadbar">

            <div class="progressBar"></div>
        </div>
        <script>
            var count = 0;
            var thisCount = 0;
            const handlers = {
                startInitFunctionOrder(data) {
                    count = data.count;
                },
                initFunctionInvoking(data) {
                    document.querySelector('.progressBar').style.left = '0%';
                    document.querySelector('.progressBar').style.width = ((data.idx / count) * 100) + '%';
                },
                startDataFileEntries(data) {
                    count = data.count;
                },
                performMapLoadFunction(data) {
                    ++thisCount;
                    document.querySelector('.progressBar').style.left = '0%';
                    document.querySelector('.progressBar').style.width = ((thisCount / count) * 100) + '%';
                },
            };
            window.addEventListener('message', function (e) {
                (handlers[e.data.eventName] || function () { })(e.data);
            });
            function getRandomSongNumber() {
                return random = Math.floor(Math.random() * 3) + 1;
            }
            function setNewSong() {
                if (random == 1) {
                    document.getElementById("loading").src = "song/song1.mp3";
                    songname.innerHTML = "Joka päivä ja joka ikinen yö (feat. Amanda)";
                }
                else if (random == 2) {
                    document.getElementById("loading").src = "song/song2.mp3";
                    songname.innerHTML = "M3NO - Sankarit";
                }
                else if (random == 3) {
                    document.getElementById("loading").src = "song/song3.mp3";
                    songname.innerHTML = "Aurium - Vie mut uniin";
                }
            }
            document.addEventListener("DOMContentLoaded", function () {
                var random = getRandomSongNumber();
                setNewSong(random);
            });
            var play = false;
            var vid = document.getElementById("loading");
            vid.volume = 0.025;
            window.addEventListener('keyup', function(e) {
                if (e.which == 38) {
                    vid.volume = Math.min(vid.volume + 0.025, 1);
                } else if (e.which == 40) {
                    vid.volume = Math.max(vid.volume - 0.025, 0);
                };
            });
            var mutetext = document.getElementById("text");
            var songname = document.getElementById("songname");
            window.addEventListener("keyup", function(event) {
                if (event.which == 37) {
                    if (document.getElementById("loading").src.endsWith("song2.mp3")) {
                        document.getElementById("loading").src = "song/song1.mp3";
                        songname.innerHTML = "M3NO - Sankarit";

                    } else if (document.getElementById("loading").src.endsWith("song1.mp3")) {
                        document.getElementById("loading").src = "song/song3.mp3";
                        songname.innerHTML = "Amanda - Joka päivä ja joka ikinen yö";

                    } else if (document.getElementById("loading").src.endsWith("song3.mp3")) {
                        document.getElementById("loading").src = "song/song2.mp3";
                        songname.innerHTML = "Aurium - Vie mut uniin";
                    }
                    document.getElementById("loading").play();
                    mutetext.innerHTML = "MUTE";
                }
                if (event.which == 39) {
                    if (document.getElementById("loading").src.endsWith("song2.mp3")) {
                        document.getElementById("loading").src = "song/song3.mp3";
                        songname.innerHTML = "M3NO - Sankarit";

                    } else if (document.getElementById("loading").src.endsWith("song3.mp3")) {
                        document.getElementById("loading").src = "song/song1.mp3";
                        songname.innerHTML = "Aurium - Vie mut uniin";

                    } else if (document.getElementById("loading").src.endsWith("song1.mp3")) {
                        document.getElementById("loading").src = "song/song2.mp3";
                        songname.innerHTML = "Amanda - Joka päivä ja joka ikinen yö";

                    }
                    document.getElementById("loading").play();
                    mutetext.innerHTML = "MUTE";
                }

            });
            var audio = document.querySelector('audio');
            if (audio) {
                window.addEventListener('keydown', function(event) {
                    var key = event.which || event.keyCode;
                    var x = document.getElementById("text").innerText;
                    var y = document.getElementById("text");
                    if (key === 32 && x == "MUTE") {
                        event.preventDefault();
                        audio.paused ? audio.play() : audio.pause();
                        y.innerHTML = "UNMUTE";
                    } else if (key === 32 && x == "UNMUTE") {
                        event.preventDefault();
                        audio.paused ? audio.play() : audio.pause();
                        y.innerHTML = "MUTE";
                    }
                });
            }
            window.addEventListener('DOMContentLoaded', () => {
                document.querySelector('#namePlaceholder > span').innerText = window.nuiHandoverData.name;
            });
        </script>
    </body>
</html>